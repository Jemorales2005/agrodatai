<!--navbar-->
<app-navbarhome></app-navbarhome>
<!--/navbar-->
<main id="main">
  <div id="contenedorRegister">
   <img class="d-block w-100" src="/assets/images/Agrodat-App-15.jpg">
    <div class="overlay">
      <div class="container">
        <div class="row align-items-center">

          <div class="col-lg-1 col-md-1 col-sm-0"></div>

          <div class="col-lg-10 col-md-10 col-sm-12 text-center central">
            <!--interno-->
            <div id="registerForm">
                  <div class="registerForm-bg">
                    <div class="titRegistro">REGISTRO</div>

<!--inicio vista 1 del registro (datos básicos del productor)-->
<!--<form name="registroProductor">-->
  <div *ngIf="divProduce == 0 && divCultivosProductor == 0" class="p-0 m-0">
   <div class="form-group p-0 m-1">
     <label for="TipoPerfil" class="titForm">TIPO DE PERFIL</label>
      <select (change)="onChangeOptions($event,'Profile','')" class="form-control form-control-sm w-50">
        <option selected="selected">--seleccione perfil--</option>
        <option *ngFor="let perfiles of tiposPerfiles;" value="{{perfiles.idPerfil}}">
          {{perfiles.nombrePerfil}}
        </option>
      </select>
   </div>
  </div>

  <div *ngIf="divTipoPerfil == 1 && divProduce == 0" class="p-0 m-1">
   <div class="form-group p-0 m-0">
     <label for="TipoProductor" class="titForm">TIPO DE PRODUCTOR</label>
      <select [(ngModel)]="tipoProductor" (change)="onChangeOptions($event,'Productor','')" class="form-control form-control-sm w-50">
        <option selected="selected">--seleccione tipo de productor--</option>
        <option *ngFor="let productores of tiposProductor;" value="{{productores.idProductor}}">
          {{productores.nombreProductor}}
        </option>
      </select>
   </div>
  </div>
<!--inicio formulario datos básicos productor ( persona/empresa )-->
<div *ngIf="divTipoProductor > 0 && divTipoPerfil == 1 && divProduce == 0">

  <!--nombres y apellidos si el productor es una persona-->
  <div *ngIf="divTipoProductor == 1" class="form-row p-0 m-0">
    <div class="form-group col-md-6">
      <!-- [ngClass]="{'has-error': !name.valid && (name.dirty || name.touched)}"-->
      <label for="nombres" class="control-label">NOMBRES</label>
      <input id="nombres" name="nombres" [(ngModel)]="nombres" #regNombres="ngModel" type="text" class="form-control form-control-sm" placeholder="Nombre" required>
      <div *ngIf="regNombres.errors && (regNombres.dirty || regNombres.touched)">
        <span style="color:red; font-size:9px;" *ngIf="regNombres.errors.required">
         El campo nombre es requerido
        </span>
      </div>
    </div>
    <div class="form-group col-md-6">
      <label for="apellidos" class="titForm">APELLIDOS</label>
      <input [(ngModel)]="apellidos" type="text" class="form-control form-control-sm" placeholder="Apellidos" required>
    </div>
  </div>
  <!--fin nombres y apellidos si el productor es una persona-->
  <!--nombres si el productor es una empresa-->
  <div *ngIf="divTipoProductor == 2" class="form-row p-0 m-0">
    <div class="form-group col-md-12">
      <label for="nombres" class="control-label">NOMBRE DE LA EMPRESA</label>
      <input id="nombres" name="nombres" [(ngModel)]="nombres" #regNombres="ngModel" type="text" class="form-control form-control-sm" placeholder="Nombre" required>

    <div *ngIf="regNombres.errors && (regNombres.dirty || regNombres.touched)">
      <span style="color:red; font-size:9px;" *ngIf="regNombres.errors.required">
        El campo nombre es requerido
      </span>
    </div>
    </div>
  </div>
  <!--fin nombres si el productor es una empresa-->

  <div class="form-row p-0 m-0">
    <div class="form-group col-md-6">
      <label for="identificacion" class="titForm">NÚMERO DE IDENTIFICACIÓN</label>
      <input [(ngModel)]="identificacion" #regIdentificacion="ngModel" name="identificacion" id="identificacion" type="text" class="form-control form-control-sm" placeholder="Identificacion" required>
      <div *ngIf="regIdentificacion.errors && (regIdentificacion.dirty || regIdentificacion.touched)">
        <span style="color:red; font-size:9px;" *ngIf="regIdentificacion.errors.required">
         El campo identificación es requerido
        </span>
      </div>
    </div>
    <div class="form-group col-md-6">
      <label for="telefono" class="titForm">TELÉFONO</label>
      <input [(ngModel)]="telefono" #regTelefono="ngModel" name="telefono" id="telefono" type="text" class="form-control form-control-sm" placeholder="Telefono" required>
      <div *ngIf="regTelefono.errors && (regTelefono.dirty || regTelefono.touched)">
        <span style="color:red; font-size:9px;" *ngIf="regTelefono.errors.required">
         El campo dirección es requerido
        </span>
      </div>
    </div>
  </div>

  <div class="form-row p-0 m-0">
    <div class="form-group col-md-12">
      <label for="direccion" class="titForm">DIRECCIÓN</label>
      <input [(ngModel)]="direccion" #regDireccion="ngModel" name="direccion" id="direccion" type="text" class="form-control form-control-sm" placeholder="Dirección" required>
      <div *ngIf="regDireccion.errors && (regDireccion.dirty || regDireccion.touched)">
        <span style="color:red; font-size:9px;" *ngIf="regDireccion.errors.required">
         El campo dirección es requerido
        </span>
      </div>
    </div>
  </div>

  <div class="form-row p-0 m-0">
    <div class="form-group col-md-6">
      <label for="email" class="titForm">CORREO ELECTRÓNICO</label>
      <input [(ngModel)]="email" #regEmail="ngModel" name="email" id="email" type="text" class="form-control form-control-sm" placeholder="Email" email required>
    <div *ngIf="regEmail.errors && (regEmail.dirty || regEmail.touched)">
      <span style="color:red; font-size:9px;" *ngIf="regEmail.errors.required">
       El campo email es requerido
      </span>
      <span style="color:red; font-size:9px;" *ngIf="regEmail.errors.email">
       El email no es válido
      </span>
    </div>
    </div>
    <div class="form-group col-md-6">
      <label for="username" class="titForm">NOMBRE DE USUARIO</label>
      <input [(ngModel)]="username" #regUsername="ngModel" name="username" id="username" type="text" class="form-control form-control-sm" placeholder="Nombre de usuario" required minlength="8">
      <div *ngIf="regUsername.errors && (regUsername.dirty || regUsername.touched)">
      <span style="color:red; font-size:9px;" *ngIf="regUsername.errors.required">
       El campo nombre de usuario es requerido
      </span>
    </div>
    </div>
  </div>

  <div class="form-row p-0 m-0">
    <div class="form-group col-md-6">
      <label for="password" class="titForm">CLAVE</label>
      <input [(ngModel)]="password" #regClave="ngModel" name="password" id="password" type="password" class="form-control form-control-sm" placeholder="Clave" required minlength="8">
        <div *ngIf="regClave.errors && (regClave.dirty || regClave.touched)">
          <span style="color:red; font-size:9px;" *ngIf="regClave.errors.required">
            El campo clave es requerido
          </span>
          <span style="color:red; font-size:9px;" *ngIf="regClave.errors.minlength">
            El campo requiere mínimo 8 caracteres
          </span>
        </div>
    </div>
    <div class="form-group col-md-6">
      <label for="passwordConfirm" class="titForm">CONFIRMAR CLAVE</label>
      <input [(ngModel)]="passwordConfirm" #regClave2="ngModel" name="passwordConfirm" id="passwordConfirm" type="password" class="form-control form-control-sm"  placeholder="Confirmar clave" required minlength="8" required minlength="8">
        <div *ngIf="regClave2.errors && (regClave2.dirty || regClave2.touched)">
          <span style="color:red; font-size:9px;" *ngIf="regClave2.errors.required">
            El campo confirmar clave es requerido
          </span>
          <span style="color:red; font-size:9px;" *ngIf="regClave2.errors.minlength">
            El campo requiere mínimo 8 caracteres
          </span>
        </div>
    </div>

  </div>
  <button (click)="onChangeOptions('','ValidarDatosBasicosProductor','')" type="button" class="btn btn-success">  Continuar registro
  </button>
</div>
<!-- fin form datos básicos del productor-->
<!--</form>-->
<!--fin vista 1 del registro (datos básicos del productor)-->
<div *ngIf="divProduce == 1" class="border border-light">
 <div class="btn-group" role="group" aria-label="Basic example">
<button (click)="clearMarkers();" type="button" class="btn btn-outline-secondary btn-sm">
  Eliminar Puntos
</button>
<button (click)="clearPolygonos();" type="button" class="btn btn-outline-secondary btn-sm">
  Eliminar Polígonos
</button>
<button (click)="miUbiucacion()" class="btn btn-dark">Mi ubicacion actual</button>
</div>
  <div class="pac-card" id="pac-card">
        <div>
          <div id="title">
            Autocomplete search
          </div>
          <div id="type-selector" class="pac-controls">
            <input type="radio" name="type" id="changetype-all" checked="checked">
            <label for="changetype-all">All</label>

            <input type="radio" name="type" id="changetype-establishment">
            <label for="changetype-establishment">Establishments</label>

            <input type="radio" name="type" id="changetype-address">
            <label for="changetype-address">Addresses</label>

            <input type="radio" name="type" id="changetype-geocode">
            <label for="changetype-geocode">Geocodes</label>
          </div>
          <div id="strict-bounds-selector" class="pac-controls">
            <input type="checkbox" id="use-strict-bounds" value="">
            <label for="use-strict-bounds">Strict Bounds</label>
          </div>
        </div>
        <div id="pac-container">
          <input id="pac-input" type="text"
              placeholder="Enter a location">
        </div>
      </div>
      <div id="map"></div>
      <div id="infowindow-content">
        <img src="" width="16" height="16" id="place-icon">
        <span id="place-name"  class="title"></span><br>
        <span id="place-address"></span>
      </div>
  <div id="map" class="border"></div>
<!--inicio tabla listado de productos que ofrece-->
<div *ngIf="divCultivosProductor == 0" class="table-responsive-sm mt-2" style="overflow-y: scroll; max-height:130px">
 <table class="table table-bordered table-hover table-sm w-100">
  <thead>
    <tr class="table-success">
      <th scope="col">#</th>
      <th scope="col">QUE PRODUCE</th>
      <th scope="col">DEPARTAMENTO</th>
      <th scope="col">MUNICIPIO</th>
      <th scope="col">VEREDA</th>
    </tr>
  </thead>
  <tbody>
    <ng-container *ngFor="let producto of agricultorProductos; let i=index;">
    <tr>
      <td class="counter">{{i+1}}.</td>
      <td>
        <i class="far fa-trash-alt" alt="Eliminar producto" (click)="onChangeOptions('','EliminarProductoOfrece', producto)">
        </i> {{producto.nombre_producto}}
      </td>
      <td>{{producto.departamento}}</td>
      <td>{{producto.municipio}}</td>
      <td>{{producto.vereda}}</td>
    </tr>
    </ng-container>
    <tr>
      <td colspan="5" align="right">
        <button (click)="onChangeOptions('','FormProducto','')" type="button" class="btn btn-success btn-sm">
         + Adicionar producto
        </button>
      </td>
    </tr>
  </tbody>
 </table>
</div>
<!-- fin tabla listado de productos que ofrece-->

<div *ngIf="divCultivosProductor == 0" class="btn-group" role="group" aria-label="Basic example">
  <button (click)="onChangeOptions('','IrForm_1','')"  type="button" class="btn btn-dark">Atras</button>
  <button (click)="realizarRegistro()" type="button" class="btn btn-success">Terminar registro</button>
</div>
 </div>
                  </div>
                </div>
            <!--fin interno-->
          </div>
          <div class="col-lg-1 col-md-1 col-sm-0"></div>

        </div>
      </div>
    </div>
  </div>
</main>

